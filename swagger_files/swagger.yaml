openapi: 3.0.3
info:
  title: 'Bureaucracy Simulator'
  version: 1.0.0
  description: 'Backend API for the Bureaucracy Simulator game'
paths:
  /startscreen/:
    get:
      summary: 'Get list of song URLs'
      operationId: getStartscreen
      responses: {'200': {description: 'A list of song URLs', content: {application/json: {schema: {type: object, properties: {songlist: {type: array, items: {type: string}}}}}}}}
  /leaderboard/:
    get:
      summary: 'Get leaderboard data'
      operationId: getLeaderboard
      responses: {'200': {description: 'A leaderboard array', content: {application/json: {schema: {type: object, properties: {leaderboard: {type: array, items: {type: object, properties: {name: {type: string}, score: {type: integer}}}}}}}}}}
  /about-us/:
    get:
      summary: 'Get About Us paragraph'
      operationId: getAboutUs
      responses: {'200': {description: 'A paragraph describing who are we', content: {application/json: {schema: {type: object, properties: {paragraph: {type: string}}}}}}}
  /endscreen/:
    get:
      tags: [Endscreen]
      summary: 'Retrieve statistics for user attempt'
      description: 'Returns the time a user spent and their performance percentile after completing a simulation.'
      responses: {'200': {description: 'Successful retrieval of attempt metrics', content: {application/json: {schema: {type: object, properties: {elapsedTime: {type: integer, description: 'Elapsed time in seconds', example: 145}, percentile: {type: integer, description: 'Percentile of user performance', example: 87}}, required: [elapsedTime, percentile]}}}}, '500': {description: 'Internal server error'}}
    post:
      tags: [Endscreen]
      summary: 'Submit statistics for user attempt'
      description: 'Allows a user to submit the total time taken to complete the simulation.'
      requestBody: {description: 'Elapsed time data to submit', required: true, content: {application/json: {schema: {type: object, properties: {elapsedTime: {type: integer, description: 'Elapsed time in seconds', example: 132}}, required: [elapsedTime]}}}}
      responses: {'200': {description: 'Data submitted successfully'}, '400': {description: 'Bad request - invalid or missing data'}}
  /user/:
    post:
      summary: 'Submit nickname and seed to get to‚Äêdo list'
      operationId: postHomescreeen
      requestBody: {required: true, content: {application/json: {schema: {type: object, properties: {nickname: {type: string}, seed: {type: integer}}, required: [nickname, seed]}}}}
      responses: {'200': {description: 'A to-do list of tasks', content: {application/json: {schema: {type: array, items: {type: object, properties: {id: {type: integer}, taskType: {type: string}, completed: {type: boolean}, pageName: {type: string}}}}}}}}
  '/user/homescreen/tasks/{taskID}':
    put:
      summary: 'Submit user input for a specific task'
      operationId: putTaskCheck
      parameters: [{name: taskID, in: path, required: true, schema: {type: integer}}]
      requestBody: {required: true, content: {application/json: {schema: {type: object, properties: {userInput: {type: object}}, required: [userInput]}}}}
      responses: {'200': {description: 'Indicates wether a task is complete', content: {application/json: {schema: {type: object, properties: {isTaskCompleted: {type: boolean}}}}}}}
  /user/homescreen/todolist:
    get:
      tags: [Task]
      summary: 'Retrieve updated task list'
      description: 'Returns a the updated list of tasks'
      responses: {'200': {description: 'Successful retrieval of tasks', content: {application/json: {schema: {type: object, properties: {toDoList: {type: array, items: {type: object, properties: {id: {type: integer}, taskType: {type: string}, completed: {type: boolean}, pageName: {type: string}}}}}, required: [toDoList]}}}}, '404': {description: 'Task ID not found'}}
  '/user/homescreen/tasks/{taskID}/':
    get:
      summary: 'Get a specific task'
      operationId: getTaskById
      parameters: [{name: taskID, in: path, required: true, schema: {type: integer}, description: 'The ID of the task to retrieve'}]
      responses: {'200': {description: 'A task object', content: {application/json: {schema: {type: object, properties: {id: {type: integer}, pageName: {type: string}, taskType: {type: string}, completed: {type: boolean}}, required: [id, pageName, taskType, completed]}}}}, '404': {description: 'Task not found'}}
  /user/homescreen/tasks/9/payment-portal/:
    get:
      summary: 'Get payment status for coffee task id=9'
      operationId: getTaskPaymentStatus
      responses: {'200': {description: 'Payment status of task 9', content: {application/json: {schema: {type: object, properties: {paymentAccepted: {type: boolean}}}}}}, '404': {description: 'Task or payment portal not found'}}
components:
  schemas:
    Task:
      type: object
      description: 'A task item belonging to a user''s to-do list'
      properties: {id: {type: string, description: 'Unique identifier for the task', example: task-001}, title: {type: string, description: 'Title of the task', example: 'Complete form A23'}, completed: {type: boolean, description: 'Status indicating if the task is completed', example: false}}
      required: [id, title, completed]
tags:
  -
    name: Endscreen
    description: 'Operations related to endscreen metrics'
  -
    name: Task
    description: 'Operations related to user task management'
